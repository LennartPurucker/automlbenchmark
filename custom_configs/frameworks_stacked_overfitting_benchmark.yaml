---
#########################
### AutoML frameworks ###
#########################

AutoGluon:
  version: "latest"
  params:
    _save_artifacts: ['leaderboard', 'info']
    _leaderboard_test: True

#########################
### AutoGluon Default ###
#########################

AG_no_stack:
  extends: AutoGluon
  description: "AutoGluon without stacking"
  params:
    _save_artifacts: [ 'leaderboard', 'info' ]
    presets: best_quality
    _leaderboard_test: True
    num_stack_levels: 0


AG_stack:
  extends: AutoGluon
  description: "AutoGluon with stacking"
  params:
    _save_artifacts: ['leaderboard', 'info']
    presets: best_quality
    _leaderboard_test: True
    num_stack_levels: 1

#AG_heuristic:
#  extends: AutoGluon
#  description: "AutoGluon with stacking but the final model is selected based on a heuristic from L1 xor L2."
#  params:
#    _save_artifacts: ['leaderboard', 'info']
#    presets: best_quality
#    _leaderboard_test: True
#    so_mitigation: "heuristic"
#    num_stack_levels: 1
#
#AG_ho_select:
#  extends: AutoGluon
#  description: "Select final model based on holdout data."
#  params:
#    _save_artifacts: ['leaderboard', 'info', 'ho_leaderboard']
#    presets: best_quality
#    _leaderboard_test: True
#    so_mitigation: "ho_select"
#    num_stack_levels: 1
#
#AG_ho_select_refit:
#  extends: AutoGluon
#  description: "Select based on holdout and refit."
#  params:
#    _save_artifacts: ['leaderboard', 'info', 'ho_leaderboard']
#    presets: best_quality
#    _leaderboard_test: True
#    so_mitigation: "ho_select_refit"
#    num_stack_levels: 1

AG_ho_dynamic_stacking:
  extends: AutoGluon
  description: "Determine SO based on holdout and refit with or without stacking."
  params:
    _save_artifacts: ['leaderboard', 'info', 'ho_leaderboard']
    presets: best_quality
    _leaderboard_test: True
    so_mitigation: "ho_dynamic_stacking"
    num_stack_levels: 1

AG_ho_ges_weights:
  extends: AutoGluon
  description: "Determine GES Weights based on holdout, then refit and use these weights for the final predictions."
  params:
    _save_artifacts: ['leaderboard', 'info', 'ho_leaderboard']
    presets: best_quality
    _leaderboard_test: True
    so_mitigation: "ho_ges_weights"
    num_stack_levels: 1

AG_stacking_proxy_v2:
  extends: AutoGluon
  description: "Determine whether to use stacking by proxy before running AG."
  params:
    _save_artifacts: ['leaderboard', 'info']
    presets: best_quality
    _leaderboard_test: True
    so_mitigation: "proxy"
    num_stack_levels: 1